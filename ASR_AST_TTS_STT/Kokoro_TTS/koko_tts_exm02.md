## Ключевые различия версии exm02 от exm01

### 1. **Импорт `time`**
- **Вторая версия**: Добавлен `import time` для измерения времени загрузки и выполнения

### 2. **Кэширование модели**
- **Первая версия**: `PIPELINE = KPipeline(lang_code=LANG_CODE, repo_id=REPO_ID)` — модель создается при импорте модуля
- **Вторая версия**: 
  - Введена глобальная переменная `_CACHED_PIPELINE = None`
  - Функция `get_cached_pipeline()` реализует ленивую загрузку модели
  - Модель загружается только при первом вызове, затем переиспользуется
  - Добавлена обработка ошибок при загрузке

### 3. **Предзагрузка модели**
- **Вторая версия**: Добавлена функция `preload_model()` для предварительной загрузки и кэширования модели
- Вызывается в основном блоке для инициализации до основного синтеза

### 4. **Улучшенная обработка ошибок**
- **Вторая версия**: Добавлены `try-except` блоки в `producer` и `consumer` функциях
- Более безопасная обработка исключений при генерации и воспроизведении аудио

### 5. **Улучшенные сообщения логирования**
- **Вторая версия**: Более структурированные лог-сообщения с префиксами `[init]`, `[gen]`, `[play]`, `[preload]`
- Более информативные сообщения об ошибках

### 6. **Измерение времени выполнения**
- **Вторая версия**: 
  - В `get_cached_pipeline()` добавлено измерение времени загрузки модели
  - В `preload_model()` измеряется время предварительной загрузки
  - В основном блоке измеряется общее время выполнения синтеза

### 7. **Более подробный основной блок**
- **Вторая версия**: 
  - Добавлена предзагрузка модели перед основным синтезом
  - Более структурированный вывод с разделителями `===`

### 8. **Комментарии**
- **Вторая версия**: Улучшены и уточнены комментарии, особенно в функции `get_cached_pipeline()`

## Основные преимущества второй версии

1. **Лучшая производительность**: Кэширование модели предотвращает повторную загрузку при многократных вызовах
2. **Более надежная работа**: Добавлена обработка ошибок для предотвращения падений
3. **Лучшая диагностика**: Более подробные логи и измерение времени выполнения
4. **Более чистый код**: Исправлены опечатки и улучшена структура
5. **Более безопасная работа с ресурсами**: Улучшена обработка исключений в критических участках
